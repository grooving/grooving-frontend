{"remainingRequest":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/practica/Desarrollo/Workspace/grooving-frontend/src/views/Portfolio.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/src/views/Portfolio.vue","mtime":1553895535188},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport ArtistInfo from '@/components/portfolio/ArtistInfo.vue';\nimport ImageCarousel from '@/components/portfolio/ImageCarousel.vue';\nimport VideoCarousel from '@/components/portfolio/VideoCarousel.vue';\nimport GAxios from '@/utils/GAxios.js';\nimport endpoints from '@/utils/endpoints.js';\nimport GSecurity from '@/security/GSecurity.js';\nimport Calendar from '@/components/Calendar.vue';\n\nvar portfolioDays = [];\n\nexport default {\n  name: 'Portfolio',\n  components: {\n    ArtistInfo,\n    ImageCarousel,\n    VideoCarousel,\n    Calendar,\n  },  \n  props: {\n    portfolioBanner: {\n      type: String\n    },\n    portfolioIcon: {\n      type: String\n    },\n    portfolioName: {\n      type: String\n    },\n    portfolioBiography: {\n      type: String\n    },\n    portfolioImages: {\n      type: Array,\n      default: function() {return []}\n    },\n    portfolioVideos: {\n      type: Array,\n      default: function() {return []}\n    },\n    portfolioVideos: {\n      type: Array,\n      default: function() {return []}\n    },\n    portfolioGenres: {\n      type: Array,\n      default: function() {return[]}\n    }\n  },\n\n  data: function(){\n    \n    return{\n      gsecurity: GSecurity,\n      updateVideosKey: 0,\n      d_portfolioBanner: '',\n      d_portfolioIcon: '',\n      d_portfolioName:'',\n      d_portfolioBiography: '',\n      d_portfolioImages: Array(),\n      d_portfolioVideos: Array(),\n      datos: Array(),\n    }\n  },\n  \n  mounted: function(){\n    \n    var authorizedGAxios = GAxios;\n    authorizedGAxios.get(endpoints.portfolio+this.$route.params['artistId']+\"/\")\n      .then(response => {\n\n          var portfolio = response.data;\n\n          this.d_portfolioBanner = portfolio.banner;\n          this.d_portfolioName = portfolio.artisticName;\n          var media = portfolio.portfoliomodule_set;\n          var genres = portfolio.artisticGender;\n\n          for(var i = 0; i < genres.length; i++){\n            var genre = genres[i];\n            this.portfolioGenres.push(genre['name']);\n          }\n          var imgCounter = 0;\n          var vidCounter = 0;\n\n          for(var i = 0; i < media.length; i++){\n\n            var elementMedia = media[i];\n            \n            if(elementMedia['type'] == 'VIDEO'){\n              this.d_portfolioVideos.push({id:vidCounter, videoURL:elementMedia['link']});\n              vidCounter += 1;\n            }\n            if(elementMedia['type'] == 'PHOTO'){\n              this.d_portfolioImages.push(elementMedia['link'])\n            }\n          }\n\n          this.updateVideosKey += 1;\n                \n    });\n\n\n      var authorizedGAxios = GAxios;\n      var GAxiosToken = this.gsecurity.getToken();\n      authorizedGAxios.defaults.headers.common['Authorization'] = 'Token ' + GAxiosToken;\n\n      authorizedGAxios.get('/artist' + endpoints.calendar + this.$route.params['artistId'] + '/')\n        .then(response => {\n            var calendar = response.data;\n            console.log(calendar[0].days)\n\n            this.datos.push({\n                availableDates: calendar[0].days,\n            })\n\n        }).catch(ex => {\n            console.log(ex);\n        });\n\n  }\n\n}\n",{"version":3,"sources":["Portfolio.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA","file":"Portfolio.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <ArtistInfo :artistBanner=\"portfolioBanner\" :artistName=\"portfolioName\" :artistGenres=\"portfolioGenres\" />\n    <ImageCarousel class=\"imageCarousel\" />\n    <VideoCarousel class=\"videoCarousel\" :videosInfo=\"d_portfolioVideos\" :key=\"updateVideosKey\"/>\n    <Calendar class=\"availableDates\" :availableDates=\"this.datos[0].availableDates\"/>\n  </div>\n</template>\n\n<script>\n\nimport ArtistInfo from '@/components/portfolio/ArtistInfo.vue';\nimport ImageCarousel from '@/components/portfolio/ImageCarousel.vue';\nimport VideoCarousel from '@/components/portfolio/VideoCarousel.vue';\nimport GAxios from '@/utils/GAxios.js';\nimport endpoints from '@/utils/endpoints.js';\nimport GSecurity from '@/security/GSecurity.js';\nimport Calendar from '@/components/Calendar.vue';\n\nvar portfolioDays = [];\n\nexport default {\n  name: 'Portfolio',\n  components: {\n    ArtistInfo,\n    ImageCarousel,\n    VideoCarousel,\n    Calendar,\n  },  \n  props: {\n    portfolioBanner: {\n      type: String\n    },\n    portfolioIcon: {\n      type: String\n    },\n    portfolioName: {\n      type: String\n    },\n    portfolioBiography: {\n      type: String\n    },\n    portfolioImages: {\n      type: Array,\n      default: function() {return []}\n    },\n    portfolioVideos: {\n      type: Array,\n      default: function() {return []}\n    },\n    portfolioVideos: {\n      type: Array,\n      default: function() {return []}\n    },\n    portfolioGenres: {\n      type: Array,\n      default: function() {return[]}\n    }\n  },\n\n  data: function(){\n    \n    return{\n      gsecurity: GSecurity,\n      updateVideosKey: 0,\n      d_portfolioBanner: '',\n      d_portfolioIcon: '',\n      d_portfolioName:'',\n      d_portfolioBiography: '',\n      d_portfolioImages: Array(),\n      d_portfolioVideos: Array(),\n      datos: Array(),\n    }\n  },\n  \n  mounted: function(){\n    \n    var authorizedGAxios = GAxios;\n    authorizedGAxios.get(endpoints.portfolio+this.$route.params['artistId']+\"/\")\n      .then(response => {\n\n          var portfolio = response.data;\n\n          this.d_portfolioBanner = portfolio.banner;\n          this.d_portfolioName = portfolio.artisticName;\n          var media = portfolio.portfoliomodule_set;\n          var genres = portfolio.artisticGender;\n\n          for(var i = 0; i < genres.length; i++){\n            var genre = genres[i];\n            this.portfolioGenres.push(genre['name']);\n          }\n          var imgCounter = 0;\n          var vidCounter = 0;\n\n          for(var i = 0; i < media.length; i++){\n\n            var elementMedia = media[i];\n            \n            if(elementMedia['type'] == 'VIDEO'){\n              this.d_portfolioVideos.push({id:vidCounter, videoURL:elementMedia['link']});\n              vidCounter += 1;\n            }\n            if(elementMedia['type'] == 'PHOTO'){\n              this.d_portfolioImages.push(elementMedia['link'])\n            }\n          }\n\n          this.updateVideosKey += 1;\n                \n    });\n\n\n      var authorizedGAxios = GAxios;\n      var GAxiosToken = this.gsecurity.getToken();\n      authorizedGAxios.defaults.headers.common['Authorization'] = 'Token ' + GAxiosToken;\n\n      authorizedGAxios.get('/artist' + endpoints.calendar + this.$route.params['artistId'] + '/')\n        .then(response => {\n            var calendar = response.data;\n            console.log(calendar[0].days)\n\n            this.datos.push({\n                availableDates: calendar[0].days,\n            })\n\n        }).catch(ex => {\n            console.log(ex);\n        });\n\n  }\n\n}\n</script>\n\n<style scoped>\n\n  .imageCarousel{\n    padding-top: 20px;\n  }\n\n  .videoCarousel{\n    padding-top: 30px;\n  }\n\n  .availableDates{\n    padding-top: 30px;\n    margin-bottom: 35px;\n  }\n\n</style>\n\n"]}]}