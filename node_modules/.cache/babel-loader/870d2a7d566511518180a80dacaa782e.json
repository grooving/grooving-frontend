{"remainingRequest":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/thread-loader/dist/cjs.js!/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/babel-loader/lib/index.js!/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/practica/Desarrollo/Workspace/grooving-frontend/src/views/OffersList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/src/views/OffersList.vue","mtime":1553895535188},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/practica/Desarrollo/Workspace/grooving-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Offer from '@/components/Offer.vue';\nimport TabbedSubMenu from '@/components/menus/TabbedSubMenu.vue';\nimport GAxios from '@/utils/GAxios.js';\nimport endpoints from '@/utils/endpoints.js';\nimport GSecurity from '@/security/GSecurity.js';\nvar acceptURI = '/offerDetails/';\nexport default {\n  name: 'OffersList',\n  components: {\n    Offer: Offer,\n    TabbedSubMenu: TabbedSubMenu\n  },\n  data: function data() {\n    return {\n      gsecurity: GSecurity,\n      pending: Array(),\n      accepted: Array(),\n      rejected: Array(),\n      datos_prueba: [{\n        offerID: 1,\n        date: 'January 1, 2019',\n        price: 89.00,\n        place: 'Pilas',\n        confirmURI: 'offerDetails',\n        userIcon: 'https://i.imgur.com/zg5UgRb.jpg',\n        userName: 'Laika'\n      }, {\n        offerID: 3,\n        date: 'February 19, 2019',\n        price: 38.00,\n        place: 'La Algaba',\n        confirmURI: 'offerDetails',\n        userIcon: 'https://i.imgur.com/Y6UhVQF.jpg',\n        userName: 'Dobby'\n      }, {\n        offerID: 5,\n        date: 'June 28, 2019',\n        price: 120.00,\n        place: 'Espartinas',\n        confirmURI: 'offerDetails',\n        userIcon: 'https://i.imgur.com/C0EXLuU.jpg',\n        userName: 'Otto'\n      }, {\n        offerID: 7,\n        date: 'July 14, 2019',\n        price: 3.50,\n        place: 'Huelva',\n        confirmURI: 'offerDetails',\n        userIcon: 'https://i.imgur.com/asPcsKa.jpg',\n        userName: 'Alicia'\n      }],\n      selectedTab: 0\n    };\n  },\n  methods: {\n    toggleFilterSelectionModal: function toggleFilterSelectionModal() {\n      this.showFilterSelectionModal = !this.showFilterSelectionModal;\n    },\n    updateFilters: function updateFilters() {\n      var selected = Array();\n\n      for (var i = 0; i < arguments[0].length; i++) {\n        selected.push(arguments[0][i]);\n      }\n\n      for (var j = 0; j < this.filter_parameters.length; j++) {\n        if (selected.includes(this.filter_parameters[j].id)) {\n          this.filter_parameters[j].selected = true;\n        }\n      }\n    },\n    setSelectedTab: function setSelectedTab(status) {\n      this.selectedTab = status;\n    }\n  },\n  beforeMount: function beforeMount() {\n    var _this = this;\n\n    var authorizedGAxios = GAxios;\n    var GAxiosToken = this.gsecurity.getToken();\n    authorizedGAxios.defaults.headers.common['Authorization'] = 'Token ' + GAxiosToken;\n    authorizedGAxios.get(endpoints.offers).then(function (response) {\n      console.log('ok1');\n      var offers = response.data.results;\n\n      for (var i = 0; i < offers.length; i++) {\n        if (offers[i].status == 'PENDING') {\n          _this.pending.push({\n            offerID: offers[i].id,\n            offerStatus: offers[i].status,\n            date: offers[i].date,\n            place: offers[i].eventLocation.zone.name,\n            userName: offers[i].eventLocation.customer.user.first_name,\n            userIcon: offers[i].eventLocation.customer.photo,\n            price: offers[i].price,\n            confirmURI: acceptURI + offers[i].id // rejectURI: rejectURI + offers[i].id,\n\n          });\n        }\n      }\n\n      for (var i = 0; i < offers.length; i++) {\n        if (offers[i].status == 'REJECTED') {\n          _this.rejected.push({\n            offerID: offers[i].id,\n            offerStatus: offers[i].status,\n            date: offers[i].date,\n            place: offers[i].eventLocation.zone.name,\n            userName: offers[i].eventLocation.customer.user.first_name,\n            userIcon: offers[i].eventLocation.customer.photo,\n            price: offers[i].price,\n            confirmURI: acceptURI + offers[i].id // rejectURI: rejectURI + offers[i].id,\n\n          });\n        }\n      }\n\n      for (var i = 0; i < offers.length; i++) {\n        if (offers[i].status == 'CONTRACT_MADE') {\n          _this.accepted.push({\n            offerID: offers[i].id,\n            offerStatus: offers[i].status,\n            date: offers[i].date,\n            place: offers[i].eventLocation.zone.name,\n            userName: offers[i].eventLocation.customer.user.first_name,\n            userIcon: offers[i].eventLocation.customer.photo,\n            price: offers[i].price,\n            confirmURI: acceptURI + offers[i].id // rejectURI: rejectURI + offers[i].id,\n\n          });\n        }\n      }\n    }).catch(function (ex) {\n      console.log(ex);\n    });\n  }\n};",{"version":3,"sources":["OffersList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <hr />\n    <TabbedSubMenu @selectedTab=\"setSelectedTab\"/>\n    <div class=\"container-fluid\" style=\"padding-top: 20px\">\n      <div class=\"container\">\n          <div id=\"results\" class=\"col-12 col-lg-9 col-xl-10 results\">\n            <span v-if=\"selectedTab == 0\">\n            <div class=\"row\">\n              <div v-for=\"oferta in pending\" :key=\"oferta.offerID\" class=\"tarjeta col-12 col-md-6 col-xl-6\">\n                <Offer :offerID=\"oferta.offerID\" :confirmURI=\"oferta.confirmURI\" :date=\"oferta.date\" :price=\"oferta.price\" \n                  :place=\"oferta.place\" :userIcon=\"oferta.userIcon\" :userName=\"oferta.userName\"  :offerStatus=\"oferta.offerStatus\"/>\n              </div>\n            </div>\n            </span>\n            <span v-if=\"selectedTab == 1\">\n            <div class=\"row\">\n              <div v-for=\"oferta in accepted\" :key=\"oferta.offerID\" class=\"tarjeta col-12 col-md-6 col-xl-6\">\n                <Offer :offerID=\"oferta.offerID\" :confirmURI=\"oferta.confirmURI\" :date=\"oferta.date\" :price=\"oferta.price\" \n                  :place=\"oferta.place\" :userIcon=\"oferta.userIcon\" :userName=\"oferta.userName\"  :offerStatus=\"oferta.offerStatus\"/>\n              </div>\n            </div>\n            </span>\n            <span v-if=\"selectedTab == 2\">\n            <div class=\"row\">\n              <div v-for=\"oferta in rejected\" :key=\"oferta.offerID\" class=\"tarjeta col-12 col-md-6 col-xl-6\">\n                <Offer :offerID=\"oferta.offerID\" :confirmURI=\"oferta.confirmURI\" :date=\"oferta.date\" :price=\"oferta.price\" \n                  :place=\"oferta.place\" :userIcon=\"oferta.userIcon\" :userName=\"oferta.userName\"  :offerStatus=\"oferta.offerStatus\"/>\n              </div>\n            </div>\n            </span>\n            \n          </div>\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\n\nimport Offer from '@/components/Offer.vue';\nimport TabbedSubMenu from '@/components/menus/TabbedSubMenu.vue';\nimport GAxios from '@/utils/GAxios.js';\nimport endpoints from '@/utils/endpoints.js';\nimport GSecurity from '@/security/GSecurity.js';\n\nvar acceptURI = '/offerDetails/';\n\nexport default {\n  name: 'OffersList',\n  components: {\n    Offer,\n    TabbedSubMenu\n  },\n\n  data: function(){\n    return {\n        gsecurity: GSecurity,\n        pending: Array(),\n        accepted: Array(),\n        rejected: Array(),\n        datos_prueba:[\n          {\n            offerID:  1, \n            date: 'January 1, 2019',\n            price: 89.00,\n            place: 'Pilas',\n            confirmURI: 'offerDetails',\n            userIcon: 'https://i.imgur.com/zg5UgRb.jpg',\n            userName: 'Laika'\n          },\n          {\n            offerID: 3, \n            date: 'February 19, 2019',\n            price: 38.00,\n            place: 'La Algaba',\n            confirmURI: 'offerDetails',\n            userIcon: 'https://i.imgur.com/Y6UhVQF.jpg',\n            userName: 'Dobby'\n          },\n          {\n            offerID: 5, \n            date: 'June 28, 2019',\n            price: 120.00,\n            place: 'Espartinas',\n            confirmURI: 'offerDetails',\n            userIcon: 'https://i.imgur.com/C0EXLuU.jpg',\n            userName: 'Otto'\n          },\n          {\n            offerID: 7, \n            date: 'July 14, 2019',\n            price: 3.50,\n            place: 'Huelva',\n            confirmURI: 'offerDetails',\n            userIcon: 'https://i.imgur.com/asPcsKa.jpg',\n            userName: 'Alicia'\n          },\n        ],\n        selectedTab: 0, \n      }\n    },\n    methods: {\n      toggleFilterSelectionModal: function (){\n        this.showFilterSelectionModal = !this.showFilterSelectionModal;\n      },\n      updateFilters: function() {\n        var selected = Array();\n\n        for(var i = 0; i < arguments[0].length; i++){\n          selected.push(arguments[0][i]);\n        }\n\n        for(var j = 0; j < this.filter_parameters.length; j++){\n          if(selected.includes(this.filter_parameters[j].id)){\n            this.filter_parameters[j].selected = true;\n          }\n        }\n      },\n      setSelectedTab(status) {\n        this.selectedTab = status;\n      }\n    },\n     beforeMount: function(){\n      var authorizedGAxios = GAxios;\n      var GAxiosToken = this.gsecurity.getToken();\n      authorizedGAxios.defaults.headers.common['Authorization'] = 'Token ' + GAxiosToken;\n\n      authorizedGAxios.get(endpoints.offers)\n      .then(response => {\n        console.log('ok1')\n        var offers = response.data.results;\n        \n        for(var i = 0; i < offers.length; i++){\n          if(offers[i].status == 'PENDING') {\n          this.pending.push({\n            offerID: offers[i].id,\n            offerStatus: offers[i].status,\n            date: offers[i].date,\n            place: offers[i].eventLocation.zone.name,\n            userName: offers[i].eventLocation.customer.user.first_name,\n            userIcon: offers[i].eventLocation.customer.photo,\n            price: offers[i].price,\n            confirmURI: acceptURI + offers[i].id,\n            // rejectURI: rejectURI + offers[i].id,\n          });\n        }}\n        for(var i = 0; i < offers.length; i++){\n          if(offers[i].status == 'REJECTED') {\n          this.rejected.push({\n            offerID: offers[i].id,\n            offerStatus: offers[i].status,\n            date: offers[i].date,\n            place: offers[i].eventLocation.zone.name,\n            userName: offers[i].eventLocation.customer.user.first_name,\n            userIcon: offers[i].eventLocation.customer.photo,\n            price: offers[i].price,\n            confirmURI: acceptURI + offers[i].id,\n            // rejectURI: rejectURI + offers[i].id,\n          });\n        }}\n        for(var i = 0; i < offers.length; i++){\n          if(offers[i].status == 'CONTRACT_MADE') {\n          this.accepted.push({\n            offerID: offers[i].id,\n            offerStatus: offers[i].status,\n            date: offers[i].date,\n            place: offers[i].eventLocation.zone.name,\n            userName: offers[i].eventLocation.customer.user.first_name,\n            userIcon: offers[i].eventLocation.customer.photo,\n            price: offers[i].price,\n            confirmURI: acceptURI + offers[i].id,\n            // rejectURI: rejectURI + offers[i].id,\n          });\n        }}\n      }).catch(ex => {\n          console.log(ex);\n      });\n\n    },\n    \n}\n</script>\n\n<style scoped>\n\n    .results{\n      margin: 0 auto; \n      padding: 0px;\n    }    \n\n    .tarjeta{\n      padding-bottom: 20px;\n    }\n\n    hr {\n      margin: 0px;\n    }\n\n</style>\n\n"],"sourceRoot":"src/views"}]}